<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Simulate EU-SILC population data — simEUSILC • simPop</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Simulate EU-SILC population data — simEUSILC"><meta property="og:description" content="Simulate population data for the European Statistics on Income and Living
Conditions (EU-SILC)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simPop</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/statistikat/simPop/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Simulate EU-SILC population data</h1>
    <small class="dont-index">Source: <a href="https://github.com/statistikat/simPop/blob/HEAD/R/simEUSILC.R" class="external-link"><code>R/simEUSILC.R</code></a></small>
    <div class="hidden name"><code>simEUSILC.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Simulate population data for the European Statistics on Income and Living
Conditions (EU-SILC).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">simEUSILC</span><span class="op">(</span></span>
<span>  <span class="va">dataS</span>,</span>
<span>  hid <span class="op">=</span> <span class="st">"db030"</span>,</span>
<span>  wh <span class="op">=</span> <span class="st">"db090"</span>,</span>
<span>  wp <span class="op">=</span> <span class="st">"rb050"</span>,</span>
<span>  hsize <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  strata <span class="op">=</span> <span class="st">"db040"</span>,</span>
<span>  pid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  age <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>  gender <span class="op">=</span> <span class="st">"rb090"</span>,</span>
<span>  categorizeAge <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  breaksAge <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  categorical <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pl030"</span>, <span class="st">"pb220a"</span><span class="op">)</span>,</span>
<span>  income <span class="op">=</span> <span class="st">"netIncome"</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"multinom"</span>, <span class="st">"twostep"</span><span class="op">)</span>,</span>
<span>  breaks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lower <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  upper <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  equidist <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  probs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  gpd <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  threshold <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  est <span class="op">=</span> <span class="st">"moments"</span>,</span>
<span>  const <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  residuals <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  components <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"py010n"</span>, <span class="st">"py050n"</span>, <span class="st">"py090n"</span>, <span class="st">"py100n"</span>, <span class="st">"py110n"</span>, <span class="st">"py120n"</span>, <span class="st">"py130n"</span>,</span>
<span>    <span class="st">"py140n"</span><span class="op">)</span>,</span>
<span>  conditional <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">getCatName</span><span class="op">(</span><span class="va">income</span><span class="op">)</span>, <span class="st">"pl030"</span><span class="op">)</span>,</span>
<span>  keep <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  maxit <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  MaxNWts <span class="op">=</span> <span class="fl">1500</span>,</span>
<span>  tol <span class="op">=</span> <span class="va">.Machine</span><span class="op">$</span><span class="va">double.eps</span><span class="op">^</span><span class="fl">0.5</span>,</span>
<span>  nr_cpus <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">seed</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>dataS</dt>
<dd><p>a <code>data.frame</code> containing EU-SILC survey data.</p></dd>


<dt>hid</dt>
<dd><p>a character string specifying the column of <code>dataS</code> that
contains the household ID.</p></dd>


<dt>wh</dt>
<dd><p>a character string specifying the column of <code>dataS</code> that
contains the household sample weights.</p></dd>


<dt>wp</dt>
<dd><p>a character string specifying the column of <code>dataS</code> that
contains the personal sample weights.</p></dd>


<dt>hsize</dt>
<dd><p>an optional character string specifying a column of
<code>dataS</code> that contains the household size. If <code>NULL</code>, the household
sizes are computed.</p></dd>


<dt>strata</dt>
<dd><p>a character string specifying the column of <code>dataS</code> that
define strata. Note that this is currently a required argument and only one
stratification variable is supported.</p></dd>


<dt>pid</dt>
<dd><p>an optional character string specifying a column of <code>dataS</code>
that contains the personal ID.</p></dd>


<dt>age</dt>
<dd><p>a character string specifying the column of <code>dataS</code> that
contains the age of the persons (to be used for setting up the household
structure).</p></dd>


<dt>gender</dt>
<dd><p>a character string specifying the column of <code>dataS</code> that
contains the gender of the persons (to be used for setting up the household
structure).</p></dd>


<dt>categorizeAge</dt>
<dd><p>a logical indicating whether age categories should be
used for simulating additional categorical and continuous variables to
decrease computation time.</p></dd>


<dt>breaksAge</dt>
<dd><p>numeric; if <code>categorizeAge</code> is <code>TRUE</code>, an
optional vector of two or more break points for constructing age categories,
otherwise ignored.</p></dd>


<dt>categorical</dt>
<dd><p>a character vector specifying additional categorical
variables of <code>dataS</code> that should be simulated for the population data.</p></dd>


<dt>income</dt>
<dd><p>a character string specifying the variable of <code>dataS</code>
that contains the personal income (to be simulated for the population data).</p></dd>


<dt>method</dt>
<dd><p>a character string specifying the method to be used for
simulating personal income. Accepted values are <code>"multinom"</code> (for using
multinomial log-linear models combined with random draws from the resulting
ategories) and <code>"twostep"</code> (for using two-step regression models
combined with random error terms).</p></dd>


<dt>breaks</dt>
<dd><p>if <code>method</code> is <code>"multinom"</code>, an optional numeric
vector of two or more break points for categorizing the personal income. If
missing, break points are computed using weighted quantiles.</p></dd>


<dt>lower, upper</dt>
<dd><p>numeric values; if <code>method</code> is <code>"multinom"</code> and
<code>breaks</code> is <code>NULL</code>, these can be used to specify lower and upper
bounds other than minimum and maximum, respectively. Note that if <code>gpd</code>
is <code>TRUE</code> (see below), <code>upper</code> defaults to <code>Inf</code>.</p></dd>


<dt>equidist</dt>
<dd><p>logical; if <code>method</code> is <code>"multinom"</code> and
<code>breaks</code> is <code>NULL</code>, this indicates whether the (positive) default
break points should be equidistant or whether there should be refinements in
the lower and upper tail (see <code><a href="getBreaks.html">getBreaks</a></code>).</p></dd>


<dt>probs</dt>
<dd><p>numeric vector with values in \([0, 1]\); if <code>method</code> is
<code>"multinom"</code> and <code>breaks</code> is <code>NULL</code>, this gives probabilities
for quantiles to be used as (positive) break points. If supplied, this is
preferred over <code>equidist</code>.</p></dd>


<dt>gpd</dt>
<dd><p>logical; if <code>method</code> is <code>"multinom"</code>, this indicates
whether the upper tail of the personal income should be simulated by random
draws from a (truncated) generalized Pareto distribution rather than a
uniform distribution.</p></dd>


<dt>threshold</dt>
<dd><p>a numeric value; if <code>method</code> is <code>"multinom"</code>,
values for categories above <code>threshold</code> are drawn from a (truncated)
generalized Pareto distribution.</p></dd>


<dt>est</dt>
<dd><p>a character string; if <code>method</code> is <code>"multinom"</code>, the
estimator to be used to fit the generalized Pareto distribution.</p></dd>


<dt>const</dt>
<dd><p>numeric; if <code>method</code> is <code>"twostep"</code>, this gives a
constant to be added before log transformation.</p></dd>


<dt>alpha</dt>
<dd><p>numeric; if <code>method</code> is <code>"twostep"</code>, this gives
trimming parameters for the sample data. Trimming is thereby done with
respect to the variable specified by <code>additional</code>. If a numeric vector
of length two is supplied, the first element gives the trimming proportion
for the lower part and the second element the trimming proportion for the
upper part. If a single numeric is supplied, it is used for both. With
<code>NULL</code>, trimming is suppressed.</p></dd>


<dt>residuals</dt>
<dd><p>logical; if <code>method</code> is <code>"twostep"</code>, this
indicates whether the random error terms should be obtained by draws from
the residuals. If <code>FALSE</code>, they are drawn from a normal distribution
(median and MAD of the residuals are used as parameters).</p></dd>


<dt>components</dt>
<dd><p>a character vector specifying the income components in
<code>dataS</code> (to be simulated for the population data).</p></dd>


<dt>conditional</dt>
<dd><p>an optional character vector specifying categorical
contitioning variables for resampling of the income components. The
fractions occurring in <code>dataS</code> are then drawn from the respective
subsets defined by these variables.</p></dd>


<dt>keep</dt>
<dd><p>a logical indicating whether variables computed internally in
the procedure (such as the original IDs of the corresponding households in
the underlying sample, age categories or income categories) should be stored
in the resulting population data.</p></dd>


<dt>maxit, MaxNWts</dt>
<dd><p>control parameters to be passed to
<code><a href="https://rdrr.io/pkg/nnet/man/multinom.html" class="external-link">multinom</a></code> and <code><a href="https://rdrr.io/pkg/nnet/man/nnet.html" class="external-link">nnet</a></code>. See the help file
for <code><a href="https://rdrr.io/pkg/nnet/man/nnet.html" class="external-link">nnet</a></code>.</p></dd>


<dt>tol</dt>
<dd><p>if <code>method</code> is <code>"twostep"</code>, a small positive numeric
value or <code>NULL</code> (see <code><a href="simContinuous.html">simContinuous</a></code>).</p></dd>


<dt>nr_cpus</dt>
<dd><p>if specified, an integer number defining the number of cpus
that should be used for parallel processing.</p></dd>


<dt>seed</dt>
<dd><p>optional; an integer value to be used as the seed of the random
number generator, or an integer vector containing the state of the random
number generator to be restored.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An object of class <code><a href="simPopObj-class.html">simPopObj</a></code> containing the
simulated EU-SILC population data as well as the underlying sample.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>This is a wrapper calling <code><a href="simStructure.html">simStructure</a></code>,
<code><a href="simCategorical.html">simCategorical</a></code>, <code><a href="simContinuous.html">simContinuous</a></code> and
<code><a href="simComponents.html">simComponents</a></code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="simStructure.html">simStructure</a></code>, <code><a href="simCategorical.html">simCategorical</a></code>,
<code><a href="simContinuous.html">simContinuous</a></code>, <code><a href="simComponents.html">simComponents</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Andreas Alfons and Stefan Kraft and Bernhard Meindl</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">eusilcS</span><span class="op">)</span> <span class="co"># load sample data</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">## long computation time</span></span></span>
<span class="r-in"><span><span class="co"># multinomial model with random draws</span></span></span>
<span class="r-in"><span><span class="va">eusilcM</span> <span class="op">&lt;-</span> <span class="fu">simEUSILC</span><span class="op">(</span><span class="va">eusilcS</span>, upper <span class="op">=</span> <span class="fl">200000</span>, equidist <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span>, nr_cpus <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">eusilcM</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># two-step regression</span></span></span>
<span class="r-in"><span><span class="va">eusilcT</span> <span class="op">&lt;-</span> <span class="fu">simEUSILC</span><span class="op">(</span><span class="va">eusilcS</span>, method <span class="op">=</span> <span class="st">"twostep"</span>, nr_cpus <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">eusilcT</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Matthias Templ, Alexander Kowarik, Bernhard Meindl, Andreas Alfons.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

